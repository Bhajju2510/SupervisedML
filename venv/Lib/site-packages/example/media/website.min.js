define("lux/config/lux",[],function(){"use strict";function e(){var e,t=arguments.length,n=arguments[0],i=0;for(n||(n={});++i<t;)if(e=arguments[i],r(e))for(var a in e)e.hasOwnProperty(a)&&(n[a]=e[a]);return n}function t(e){return"[object String]"===l.call(e)}function n(e){return"[object Array]"===l.call(e)}function r(e){return"[object Object]"===l.call(e)}function i(e){var t=e.replace("-","+").replace("_","/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}return decodeURIComponent(escape(window.atob(t)))}function a(e){var t=i(e);if(!t)throw new Error("Cannot decode the token");return JSON.parse(t)}var o=window,s=o.lux||{},l=Object.prototype.toString;if(t(s))s={context:a(s)};else if(s.root)return s;return o.lux=s,s.root=o,s.require=e(s.require),s.extend=e,s.isString=t,s.isArray=n,s.isObject=r,s.urlBase64Decode=i,s.urlBase64DecodeToJSON=a,s}),define("lux/config/paths",[],function(){"use strict";return function(){return{angular:"//ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular","angular-animate":"//ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-animate","angular-mocks":"//ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-mocks.js","angular-sanitize":"//ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-sanitize","angular-touch":"//cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.5/angular-touch","angular-ui-bootstrap":"https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/1.3.2/ui-bootstrap-tpls","angular-ui-router":"//cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.2.14/angular-ui-router","angular-ui-select":"//cdnjs.cloudflare.com/ajax/libs/angular-ui-select/0.14.9/select","angular-cookies":"//cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.9/angular-cookies","angular-ui-grid":"//cdnjs.cloudflare.com/ajax/libs/angular-ui-grid/3.1.1/ui-grid","angular-scroll":"//cdnjs.cloudflare.com/ajax/libs/angular-scroll/0.7.2/angular-scroll","angular-file-upload":"//cdnjs.cloudflare.com/ajax/libs/danialfarid-angular-file-upload/10.0.2/ng-file-upload","angular-infinite-scroll":"//cdnjs.cloudflare.com/ajax/libs/ngInfiniteScroll/1.2.1/ng-infinite-scroll","angular-moment":"//cdnjs.cloudflare.com/ajax/libs/angular-moment/0.10.1/angular-moment","angular-pusher":"//cdn.jsdelivr.net/angular.pusher/latest/pusher-angular.min.js",videojs:"//vjs.zencdn.net/4.12/video.js",async:"//cdnjs.cloudflare.com/ajax/libs/requirejs-async/0.1.1/async.js",pusher:"//js.pusher.com/2.2/pusher",codemirror:"//cdnjs.cloudflare.com/ajax/libs/codemirror/3.21.0/codemirror","codemirror-markdown":"//cdnjs.cloudflare.com/ajax/libs/codemirror/3.21.0/mode/markdown/markdown","codemirror-javascript":"//cdnjs.cloudflare.com/ajax/libs/codemirror/3.21.0/mode/javascript/javascript","codemirror-python":"//cdnjs.cloudflare.com/ajax/libs/codemirror/3.21.0/mode/python/python.js","codemirror-xml":"//cdnjs.cloudflare.com/ajax/libs/codemirror/3.21.0/mode/xml/xml","codemirror-css":"//cdnjs.cloudflare.com/ajax/libs/codemirror/3.21.0/mode/css/css","codemirror-htmlmixed":"//cdnjs.cloudflare.com/ajax/libs/codemirror/3.21.0/mode/htmlmixed/htmlmixed",crossfilter:"//cdnjs.cloudflare.com/ajax/libs/crossfilter/1.3.12/crossfilter",d3:"//cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3","google-analytics":"//www.google-analytics.com/analytics.js",gridster:"//cdnjs.cloudflare.com/ajax/libs/jquery.gridster/0.5.6/jquery.gridster",holder:"//cdnjs.cloudflare.com/ajax/libs/holder/2.3.1/holder",highlight:"//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.1.0/highlight.min.js",katex:"//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.6.0/katex.min.js","katex-css":"//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.6.0/katex.min.css",leaflet:"//cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.js",lodash:"//cdnjs.cloudflare.com/ajax/libs/lodash.js/3.10.1/lodash",marked:"//cdnjs.cloudflare.com/ajax/libs/marked/0.3.2/marked",mathjax:"//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML",moment:"//cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.6/moment",restangular:"//cdnjs.cloudflare.com/ajax/libs/restangular/1.4.0/restangular",sockjs:"//cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.0.3/sockjs",stats:"//cdnjs.cloudflare.com/ajax/libs/stats.js/r11/Stats",topojson:"//cdnjs.cloudflare.com/ajax/libs/topojson/1.6.19/topojson"}}}),define("lux/config/shim",[],function(){"use strict";return function(e){return{angular:{exports:"angular"},"angular-strap-tpl":{deps:["angular","angular-strap"]},"google-analytics":{exports:e.GoogleAnalyticsObject||"ga"},highlight:{exports:"hljs"},codemirror:{exports:"CodeMirror"},"codemirror-htmlmixed":{deps:["codemirror","codemirror-xml","codemirror-javascript","codemirror-css"]},restangular:{deps:["angular"]},crossfilter:{exports:"crossfilter"},trianglify:{deps:["d3"],exports:"Trianglify"},mathjax:{exports:"MathJax"}}}}),define("lux/config/main",["lux/config/lux","lux/config/paths","lux/config/shim"],function(e,t,n){"use strict";function r(n){var r={},i=a()?".min":"",u=o.local_require_prefix,c=e.extend(t(),n.paths);for(var f in c)if(c.hasOwnProperty(f)){var d=c[f];if(u&&d.substring(0,u.length)===u&&(d=d.substring(u.length)),n.shim[f]||("angular-"===f.substring(0,8)?n.shim[f]={deps:["angular"]}:"d3-"===f.substring(0,3)?n.shim[f]={deps:["d3"]}:"codemirror-"===f.substring(0,11)&&(n.shim[f]={deps:["codemirror"]})),"string"!=typeof d)d=d.url;else{var p=d.split("?");2===p.length?(d=p[0],p=p[1]):p="",d.substring(d.length-3)!==l&&(d+=i),p&&(d.substring(d.length-3)!==l&&(d+=l),d+="?"+p),"//"===d.substring(0,2)&&s&&(d=s+d),d.substring(d.length-3)===l&&(d=d.substring(0,d.length-3))}r[f]=d}return r}function i(){return e.context?e.context.MEDIA_URL:void 0}function a(){return e.context?e.context.MINIFIED_MEDIA:void 0}var o=e.root,s=o.location&&"file:"===o.location.protocol?"http:":"",l=".js";return e.config=function(t){if(t=e.extend(t,e.require),!t.baseUrl){var a=i();void 0!==a&&(t.baseUrl=a)}t.shim=e.extend(n(o),t.shim),t.paths=r(t),require.config(t)},e}),define("require.config",["lux/config/main"],function(e){"use strict";var t=e.PATH_TO_LOCAL_REQUIRED_FILES||"";return e.require.paths=e.extend(e.require.paths,{"angular-img-crop":t+"luxsite/ng-img-crop.js",videojs:"//vjs.zencdn.net/4.12/video.js"}),e.config(),e}),function(e){"use strict";function t(){}function n(e,n){var r=new t;if(e instanceof t)e.each(function(e,t){r.set(t,e)});else if(Array.isArray(e)){var i,a=-1,o=e.length;if(null==n)for(;++a<o;)r.set(a,e[a]);else for(;++a<o;)r.set(n(i=e[a],a,e),i)}else if(e)for(var s in e)r.set(s,e[s]);return r}function r(){}function i(e,t,n){var r,i=[name,"class","style"];return t&&(n&&(r=t[n]),r||(n="options",r=t[n]),sr.isString(r)&&(r=a(e,r)),sr.isFunction(r)&&(r=r())),r||(r={}),sr.isObject(r)&&sr.forEach(t,function(e,t){"$"!==t.substring(0,1)&&-1===i.indexOf(t)&&(r[t]=e)}),r}function a(e,t){for(var n=t.split("."),r=0;r<n.length&&(e=e[n[r]],e);++r);return"function"==typeof e&&(e=e()),e}function o(e){var t=e.replace("-","+").replace("_","/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}return decodeURIComponent(escape(window.atob(t)))}function s(e){var t=o(e);if(!t)throw new Error("Cannot decode the token");return JSON.parse(t)}function l(e){var t=e.split(".");if(3!==t.length)throw new Error("JWT must have 3 parts");return s(t[1])}function u(e,t){var n=ur[e];return t&&(n?t(n):require([e],function(n){ur[e]=n||!0,t(n)})),n}function c(e,t){this.value=e,this.message=t,this.toString=function(){return this.message+" : "+this.value}}function f(e){return dr||(dr=window.document.createElement("a")),dr.setAttribute("href",e),e={href:dr.href,protocol:dr.protocol?dr.protocol.replace(/:$/,""):"",host:dr.host,search:dr.search?dr.search.replace(/^\?/,""):"",hash:dr.hash?dr.hash.replace(/^#/,""):"",hostname:dr.hostname,port:dr.port,pathname:"/"===dr.pathname.charAt(0)?dr.pathname:"/"+dr.pathname,$base:function(){var t=e.protocol+"://"+e.hostname;return e.protocol!==fr[+e.port]&&(t+=":"+e.port),t}}}function d(e){pr||(pr=f(window.location.href));var t=sr.isString(e)?f(e):e;return t.protocol===pr.protocol&&t.host===pr.host}function p(e){return sr.isString(e)&&cr.test(e)}function g(){for(var e,t="",n=0;n<arguments.length;++n)if(e=arguments[n]){for(var r=e,i=!1;t&&"/"===r.substring(0,1);)r=r.substring(1);for(;"/"===r.substring(r.length-1);)i=!0,r=r.substring(0,r.length-1);(r||i)&&(t&&"/"!==t.substring(t.length-1)&&(t+="/"),t+=r,i&&(t+="/"))}return t}function h(e){return new gr(e)}function v(e){var t=e.document,n=e.lux,r=sr.element(t.querySelector("meta[name=csrf-param]")).attr("content"),i=sr.element(t.querySelector("meta[name=csrf-token]")).attr("content"),a=sr.element(t.querySelector("meta[name=user-token]")).attr("content");return sr.isString(n)&&(n=l(n)),sr.isObject(n)||(n={}),r&&i&&(n.csrf={},n.csrf[r]=i),a&&(n.userToken=a,n.user=l(a)),n}function m(e,t,n,r,i,a){function o(e,t,n,r,i,a,o,u,c){var f={$injector:e,$location:t,$window:n,$http:r,$log:i,$timeout:a,$compile:o,$rootScope:u,$require:require,require:l,messages:c,context:v(n),moduleLoaded:s};return new br(f,d)}function s(e){return f[e]||!1}function l(e,t,n){function r(){t&&a(t),n.apply(null,arguments),o.$timeout(i)}function i(){var e=c.splice(0,1);e.length&&(e=e[0],o.require(e.libNames,e.modules,e.onLoad))}function a(e){function t(e){sr.forEach(e,function(e){var t=p[e[0]],n=e[1];return t?void t[n].apply(t,e[2]):t.$log.error("unsupported provider "+e[0])})}sr.isArray(e)||(e=[e]);var n=[],r=b(e,f,n,[]);sr.forEach(n,function(e){try{t(e._invokeQueue),t(e._configBlocks)}catch(n){throw n.message&&(n.message+=" while loading "+e.name),n}}),sr.forEach(r,function(e){o.$injector.invoke(e)})}var o=this;return 2===arguments.length&&(n=t,t=null),u?c.push({libNames:e,modules:t,onLoad:n}):(sr.isArray(e)||(e=[e]),void o.$require(e,r))}o.$inject=["$injector","$location","$window","$http","$log","$timeout","$compile","$rootScope","luxMessage"];var u=!1,c=[],f={},d={},p={$controllerProvider:e,$compileProvider:n,$filterProvider:r,$provide:t,$injector:a};i.html5Mode({enabled:!0,requireBase:!1,rewriteLinks:!1}),sr.extend(this,p,{plugins:d,$get:o})}function b(e,t,n,r){var i=void 0;return sr.forEach(e,function(e){t[e]||(i=sr.module(e),t[e]=!0,r=b(i.requires,t,n,r),n.push(i),r=r.concat(i._runBlocks))}),r}function y(e,t){return new $r(e,t)}function j(){return{restrict:"A",link:{post:function(e,t){t.addClass("lux")}}}}function x(){function e(e,t){t.type=t.level,"error"===t.type&&(t.type="danger"),e.messages.push(t)}function t(t){t.messages=[],t.removeMessage=function(e,n){e.preventDefault();for(var r=t.messages,i=0;i<r.length;++i)r[i].$$hashKey===n.$$hashKey&&r.splice(i,1)},t.$on("messageAdded",function(n,r){n.defaultPrevented||e(t,r)}),t.$on("messageRemove",function(e,n){var r=[];n&&sr.forEach(t.messages,function(e){e.id!==n&&r.push(e)}),t.messages=r})}return{restrict:"AE",replace:!0,scope:{},template:wr,link:t}}function $(e,t){return 1===arguments.length&&sr.isString(e)&&(t=e,e=document),e=sr.element(e),e.length&&t?sr.element(e[0].querySelector(t)):e}function k(e){function t(t,n,r,i){function a(e){f=e,f.config.set("packaged",!0),f.config.set("basePath",require.toUrl("ace")),d=sr.element(_r),n.after(d).css("display","none"),d=$(d,".ace-lux-editor"),p=f.edit(d[0]),g=p.getSession(),g.setValue(m),o(),n.on("$destroy",function(){p.session.$stopWorker(),p.destroy()}),t.$watch(function(){return[n[0].offsetWidth,n[0].offsetHeight]},function(){p.resize(),p.renderer.updateFull()},!0)}function o(){g.removeListener("change",h),h=s(b.onChange),g.on("change",h),p.removeListener("blur",v),v=l(b.onBlur),g.on("blur",v),c()}function s(e){return function(n){var r=g.getValue();!i||r===i.$viewValue||t.$$phase||t.$root.$$phase||t.$evalAsync(function(){i.$setViewValue(r)}),u(e,n)}}function l(e){return function(){u(e)}}function u(e){if(sr.isDefined(e)){var n=Array.prototype.slice.call(arguments,1);t.$evalAsync(function(){e.apply(p,n)})}}function c(){p.setTheme("ace/theme/"+b.theme),g.setMode("ace/mode/"+b.mode);var e=sr.extend({},b);delete e.theme,delete e.mode,p.setOptions(e),sr.isDefined(b.disableSearch)&&b.disableSearch&&p.commands.addCommands([{name:"unfind",bindKey:{win:"Ctrl-F",mac:"Command-F"},exec:function(){return!1},readOnly:!0}])}var f,d,p,g,h,v,m="",b=sr.extend({showGutter:!0,theme:"twilight",mode:"markdown",tabSize:4},e.context.ace,t.$eval(r.luxAce));e.lazy.require(["ace/ace"],a),i&&(i.$formatters.push(function(e){return sr.isUndefined(e)||null===e?"":sr.isObject(e)||sr.isArray(e)?sr.toJson(e,4):e}),i.$render=function(){g?g.setValue(i.$viewValue):m=i.$viewValue})}return{restrict:"EA",require:"?ngModel",link:t}}function w(e){return e.charAt(0).toUpperCase()+e.slice(1)}function _(e){function t(t){t.steps=O(e)}return t.$inject=["$scope"],{restrict:"AE",replace:!0,template:Or,controller:t}}function O(e){var t=[],n=e.path(),r=r={label:"Home",href:"/"};return t.push(r),n.split("/").forEach(function(e){e&&(r={label:e.split(/[-_]+/).map(w).join(" "),href:g(r.href,e)},t.push(r))}),t[t.length-1].last=!0,t}function C(){return{restrict:"AE",link:function(e,t){var n=new Date;t.html(n.getFullYear()+"")}}}function S(e){return{restrict:"AE",link:function(t,n,r){var i=t.$eval(r.luxFullpage)||{},a=+(i.offset||0),o=e.innerHeight-a,s=i.watch;n.css("min-height",o+"px"),s&&t.$watch(function(){return e.innerHeight-a},function(e){n.css("min-height",e+"px")})}}}function A(){function e(){return"lf"+ ++b}function t(e){if(sr.isObject(e)&&sr.isString(e.name)){var t=e.form||"default",n=d[t];return n||(d[t]=n={}),"default"!==t&&(e=sr.extend({},d["default"][e.name],e)),n[e.name]=e,e}throw Error("An object with attribute name is required.\n                Given: "+JSON.stringify(arguments)+"\n                ")}function n(e,t){t=t||"default";var n=d[t];if(!n)throw Error("Form "+t+" is not available");return e=o(e),n[e]}function r(e){sr.isObject(e)&&sr.isString(e.name)&&sr.isFunction(e.template)&&(p[e.name]=e)}function i(e){return p[e]}function a(e,t){m[e]=t}function o(e){return m[e]||e}function s(e){return g[e]}function l(e,t){g[e]=t}function u(e,t){return 2===arguments.length?(h[e]=t,this):h[e]||h["default"]}function c(e,t){if(2===arguments.length)return v[e]=t,this;var n,r=e.$error;for(var i in r)if(r.hasOwnProperty(i)&&r[i]&&(n=v[i]))break;return sr.isFunction(n)?n(e):n}var f=this,d={},p={},g={},h={},v={},m={date:"input",datetime:"input",email:"input",hidden:"input",month:"input",number:"input",password:"input",search:"input",tel:"input",text:"input",time:"input",url:"input",week:"input"},b=1;sr.extend(this,{setType:t,getType:n,setWrapper:r,getWrapper:i,getTag:o,setTag:a,getAction:s,setAction:l,onSuccess:u,error:c,id:e,$get:function(){return f}})}function P(e,t){return sr.isObject(e)?(sr.forEach(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)}),e):void 0}function E(e,t,n){function r(t,n){var i=n.href;if(i&&!n.json)return e.api(i).get().then(function(e){return n.json=e,r(t,n)},function(t){e.messages.error(t)});var a=n.id||"form",o=L(a);return'<form class="lux-form" name="'+a+'" role="form" novalidate>\n'+o+"\n<div ng-transclude></div>\n</form>"}function i(r){r.model={},r.fields={},r.info=new Pr(r,e,t,n,r.json),r.field=r.info}function a(t){function n(e){t.form.$pending=!1;var n=e.data;sr.forEach(n,function(e,n){t.model[n]=e.id||e})}function r(){t.form.$pending=!1}var i=t.info,a=i.action;if(a&&"update"==a.action){var o=e.api(a);t.form.$pending=!0,o.get().then(n,r)}}return i.$inject=["$scope"],{restrict:"AE",replace:!0,transclude:!0,scope:{json:"=?",model:"=?"},template:r,controller:i,link:{post:a}}}function T(e,t,n){function r(n){var r=n.field,i=r.tag||l.getTag(r.type);if(!i)return e.error("Could not find a tag for field");r.id=r.id||l.id(),r.tag=i;var o=l.getType(r.tag);if(!o)return e.error("No field type for "+r.tag);if(!o.group){if(!r.name)return e.error("Field with no name attribute in lux-form");n.field=r=new Er(n,t,e,l,r),n.info.fields[r.name]=r}a(r,o.defaultOptions,n),r.fieldType=o}function i(n,r){var i,a,u=n.field,c=u.fieldType;if(c){i=c.template||"",sr.isFunction(i)&&(i=i(u));var f=u.children;if(sr.isArray(f)&&f.length){var d=L("form");if(i){var p=sr.element(i);p.append(d),i=o(p)}else i=d}sr.forEach(c.wrapper,function(t){a=l.getWrapper(t),a?i=a.template(i)||i:e.error('Could not locate lux-form wrapper "'+t+'" in "'+u.name+'" field')}),r.html(o(i));var g=c.compile||s;g(t,r.contents(),n)}}function a(e,t,n){sr.isFunction(t)&&(t=t(e,n)),P(e,t)}function o(e){var t=sr.element("<a></a>");return t.append(e).html()}function s(e,t,n){e.$compile(t)(n)}r.$inject=["$scope"];var l=n;return{restrict:"AE",require:"?^luxForm",scope:{info:"=",model:"=",form:"=",field:"="},controller:r,link:i}}function L(e){return'<lux-field ng-repeat="child in field.children"\nfield="child"\nmodel="model"\ninfo="info"\nform="'+e+'">\n</lux-field>'}function F(e){var t=e.split("-");return 2===t.length?!0:void 0}function D(e){return e.label||e.title||e.name}function q(e){var t=e.options;delete e.options,sr.isString(t)?e.$lux.api(t).get().then(function(t){200===t.status&&M(e,t.data)}):M(e,t)}function M(e,t,n){sr.isArray(t)||(t=[]),e.options=t.map(function(e){return e=sr.isArray(e)?{value:e[0],label:e[1]||e[0]}:sr.isObject(e)?n?n(e):e:{value:e,label:""+e}})}function I(e){function t(t,n,r){var i=r.luxRemote;sr.isString(i)&&(i=sr.fromJson(i));var a=t.field;a||(t.field=a={}),a.paginator=e.api(i).paginator(),U(a)}return{restrict:"A",link:t}}function R(e,t,n){e.require(["angular-ui-select","angular-sanitize"],["ui.select","ngSanitize"],function(){t=e.$compile(t)(n)})}function U(e){function t(){var t=e.placeholder;e.placeholder="Loading data...",e.paginator.getData(function(r){e.placeholder=t,M(e,r,n)})}function n(e){return{value:e[i],label:e[a]}}var r=e.paginator.api.$defaults,i=r.id_field,a=r.repr_field;t()}function N(e){function t(e){var t=e;t.setType({name:"input",template:z,wrapper:["bootstrapLabel","bootstrapStatus"],defaultOptions:function(e){return{title:e.name,placeholder:D(e),labelSrOnly:e.showLabels===!1||"hidden"===e.type,value:""}}}),t.setType({name:"checkbox",template:H}),t.setType({name:"radio",template:Tr,wrapper:["bootstrapLabel","bootstrapStatus"]}),t.setType({name:"select",template:B,wrapper:["bootstrapLabel","bootstrapStatus"],defaultOptions:function(e){return{placeholder:D(e),options:q(e)}}}),t.setType({name:"ui-select",template:J,wrapper:["bootstrapLabel","bootstrapStatus"],defaultOptions:function(e){return{placeholder:D(e),options:q(e)}},compile:R}),t.setType({name:"textarea",template:G,wrapper:["bootstrapLabel","bootstrapStatus"],defaultOptions:function(e){return{placeholder:D(e),ngModelAttrs:{rows:{attribute:"rows"},cols:{attribute:"cols"}}}}}),t.setType({name:"button",template:W,defaultOptions:function(e){return{label:e.name,type:"submit",value:e.name}}}),t.setType({name:"fieldset",template:V,group:!0}),t.setType({name:"div",group:!0})}t.$inject=["luxFormConfigProvider"],e.config(t)}function z(e){return'<input class="form-control" \nid="'+e.id+'"\nname="'+e.name+'"\ntype="'+e.type+'"\nvalue="'+e.value+'"\ntitle="'+e.title+'"\nplaceholder="'+e.placeholder+'"\n'+e.directives+"\nng-model=\"model['"+e.name+'\']"\nng-required="field.required"\nng-readonly="field.readonly"\nng-disabled="'+e.disabled+'"\nng-minlength="field.minlength"\nng-maxlength="field.maxlength"\n>'}function B(e){return'<select class="form-control"\nid="'+e.id+'"\nname="'+e.name+'"\n'+e.directives+"\nng-model=\"model['"+e.name+'\']"\nng-options="option.label for option in field.options track by option.value"\nng-required="field.required"\nng-readonly="field.readonly"\nng-disabled="'+e.disabled+'"\n>\n</select>'}function G(e){return'<textarea class="form-control"\nid="'+e.id+'"\nname="'+e.name+'"\nplaceholder="'+e.placeholder+'"\n'+e.directives+"\nng-model=\"model['"+e.name+'\']"\nng-required="field.required"\nng-readonly="field.readonly"\nng-disabled="field.disabled">\n"'+e.value+'"\n</textarea>'}function H(e){return'<div class="checkbox">\n<label>\n<input type="checkbox"\nng-model="model[\''+e.name+"']\">\n"+e.label+"\n</label>\n</div>"}function V(e){var t=e.legend||"";return t&&(t="<legend>"+t+"</legend>"),"<fieldset>"+t+"</fieldset>"}function W(e){return'<button name="'+e.name+'"\nclass="btn btn-default"\nng-disabled="field.disabled"\ntype="'+e.type+'"\nng-click="field.$click($event)"\n>'+e.label+"</button>"}function J(e){return'<ui-select\nid="'+e.id+'"\nname="'+e.name+'"\n'+e.directives+'\ntheme="bootstrap"\nng-model="model[\''+e.name+'\']"\nng-required="field.required"\nng-readonly="field.readonly"\nng-disabled="'+e.disabled+'"\n>\n<ui-select-match placeholder="'+e.placeholder+'">{{$select.selected.label}}</ui-select-match>\n<ui-select-choices repeat="item.value as item in field.options | filter: $select.search">\n  <div ng-bind-html="item.label | highlight: $select.search"></div>\n  <small ng-if="item.description" ng-bind-html="item.description | highlight: $select.search"></small>\n</ui-select-choices>\n</ui-select>'}function K(e){function t(e){var t=e;t.setWrapper({name:"bootstrapLabel",template:Lr}),t.setWrapper({name:"bootstrapStatus",template:Fr})}t.$inject=["luxFormConfigProvider"],e.config(t)}function Y(e){function t(e){var t=e;t.setAction("submit",X),t.onSuccess("default",Q)}t.$inject=["luxFormConfigProvider"],e.config(t)}function X(e){function t(e){r.$pending=!1;var t=a.onSuccess(o.resultHandler);t(e,o)}function n(e){r.$pending=!1;var t=e.data||{},n=t.errors;if(!n&&(n=t.message,!n)){var i=e.status||t.status||501;n="Response error ("+i+")"}o.addMessages(n,"error")}var r=this.$form,i=this.$lux,a=this.$cfg,o=this.info,s=o.action;if(s){e.preventDefault(),e.stopPropagation();var l=i.api(s);o.setSubmited(),r.$invalid&&r.$setDirty();var u=(o.enctype||"").split(";")[0],c=o.method||"post",f={data:o.model};"application/x-www-form-urlencoded"!==u&&"multipart/form-data"!==u||(f.headers={"content-type":void 0}),l.request(c,f).then(t,n)}}function Q(e,t){var n=e.data,r=n.messages;r||(r=n.message,r||(r=201===e.status?"Successfully created":"Successfully updated")),t.addMessages(r)}function Z(e){function t(e){var t=e;t.error("minlength",function(e){return e.$name+" length should be more than "+e.$viewValue.length}),t.error("maxlength",function(e){return e.$name+" length should be less than "+e.$viewValue.length}),t.error("required",function(e){return e.$name+" is required"})}t.$inject=["luxFormConfigProvider"],e.config(t)}function ee(e,t){t.onSuccess("redirect",function(t,n){e.location.href=n.redirectTo||"/"}).onSuccess("reload",function(){e.location.reload()})}function te(e){function t(e,t){if(t.action){var n=t.action;n&&n(e,t.href,t)}}function n(t){var n;if(t&&t.subitems&&t.subitems.length>0&&i(t.subitems))return!0;if(t=sr.isString(t)?t:t.href||t.url){n=p(t)?e.absUrl():e.path();var r=n.substring(t.length),a=t.length<n.length?!1:n.substring(0,t.length),o="/"===t.substring(t.length-1);return a===t&&(o||""===r||"/"===r.substring(0,1))}}function r(e){var t=!1;return t=e.href&&"#"===e.href&&e.subitems.length>0?i(e.subitems):!1}function i(t){for(var n=0;n<t.length;n++){if(t[n].href===e.path())return!0;if(t[n].subitems&&t[n].subitems.length>0&&i(t[n].subitems))return!0}}return{click:t,activeLink:n,activeSubmenu:r}}function ne(e){function t(t){var n=sr.extend({},e,t);return n.url||(n.url="/"),n.container=n.fluid?"container-fluid":"container",n}return t}function re(e){function t(t){function r(t,r){return t=sr.extend({position:r,menuCollapse:n},e,t),t.sections?(i.push(t),t):void 0}t||(t={});var i=[];return t.left&&r(t.left,"left"),t.right&&r(t.right,"right"),i.length||r(t,"left"),i}function n(e){var t=sr.element(e.currentTarget||e.srcElement),n=t.next();if(n.hasClass("active"))t.removeClass("active"),n.removeClass("active");else{var r=t.parent().parent();r.find("ul").removeClass("active"),r.find("li").removeClass("active"),t.parent().addClass("active"),n.addClass("active")}}return t}function ie(e,t){function n(e){e.links=t}return{template:e,restrict:"A",link:n}}function ae(e,t,n){function r(t,r,a){t.navbar=n(sr.extend({},t.navbar,i(e,a,"navbar"))),t.navbar.element=r[0]}return{template:t,restrict:"E",link:r}}function oe(e,t,n,r,a){function o(n,o,s){function u(){sr.forEach(p,function(e){e.close()})}var c=void 0,f=sr.extend({},n.sidebar,i(e,s,"sidebar")),d=sr.extend({},n.navbar,f.navbar);d.top=!0,d.fluid=!0,n.navbar=d,delete n.sidebar;var p=a(f);p.length?(n.sidebars=p,n.closeSidebars=u,sr.forEach(p,function(e){se(e,n)}),c=r):c="<lux-navbar></lux-navbar>",o.append(t(c)(n)),l&&(l=t(l)(n),p.length?$(o,".sidebar-page").append(l):o.after(l))}function s(t,r){var i=!1;n(function(){return r.find("nav")}).then(function(n){sr.element(e).bind("scroll",function(){e.pageYOffset>150&&i===!1?(n.addClass("navbar--small"),i=!0,t.$apply()):e.pageYOffset<=150&&i===!0&&(n.removeClass("navbar--small"),i=!1,t.$apply())})})}var l=void 0;return{restrict:"E",compile:function(e){return l=e.html(),e.html(""),{pre:o,post:s}}}}function se(e,t){function n(n){n.preventDefault(),sr.forEach(t.sidebars,function(t){t!=e&&t.close()}),r(!e.open)}function r(n){e.open=n,e.closed=!n,t.navbar[e.position]=e.open}if(e.toggleName){e.close=function(){r(!1)};var i={href:e.position,title:e.toggleName,name:e.toggleName,klass:"sidebar-toggle",icon:"fa fa-bars",action:n,right:"vert-divider"};"left"===e.position?(t.navbar.itemsLeft||(t.navbar.itemsLeft=[]),t.navbar.itemsLeft.splice(0,0,i)):(t.navbar.itemsRight||(t.navbar.itemsRight=[]),t.navbar.itemsRight.push(i))}}function le(e){var t="undefined"==typeof e?"undefined":ar["typeof"](e);return!!e&&("object"==t||"function"==t)}function ue(){return Date.now()}function ce(e){var t=le(e)?Hr.call(e):"";return t==zr||t==Br}function fe(e){return!!e&&"object"==("undefined"==typeof e?"undefined":ar["typeof"](e))}function de(e){return"symbol"==("undefined"==typeof e?"undefined":ar["typeof"](e))||fe(e)&&Jr.call(e)==Vr}function pe(e){if("number"==typeof e)return e;if(de(e))return Kr;if(le(e)){var t=ce(e.valueOf)?e.valueOf():e;e=le(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Yr,"");var n=Qr.test(e);return n||Zr.test(e)?ei(e.slice(2),n?2:8):Xr.test(e)?Kr:+e}function ge(e,t,n){function r(t){var n=d,r=p;return d=p=void 0,b=t,h=e.apply(r,n)}function i(e){return b=e,v=setTimeout(s,t),y?r(e):h}function a(e){var n=e-m,r=e-b,i=t-n;return j?ri(i,g-r):i}function o(e){var n=e-m,r=e-b;return void 0===m||n>=t||0>n||j&&r>=g}function s(){var e=ue();return o(e)?l(e):void(v=setTimeout(s,a(e)))}function l(e){return v=void 0,x&&d?r(e):(d=p=void 0,h)}function u(){b=0,d=m=p=v=void 0}function c(){return void 0===v?h:l(ue())}function f(){var e=ue(),n=o(e);if(d=arguments,p=this,m=e,n){if(void 0===v)return i(m);if(j)return v=setTimeout(s,t),r(m)}return void 0===v&&(v=setTimeout(s,t)),h}var d,p,g,h,v,m,b=0,y=!1,j=!1,x=!0;if("function"!=typeof e)throw new TypeError(ti);return t=pe(t)||0,le(n)&&(y=!!n.leading,j="maxWait"in n,g=j?ni(pe(n.maxWait)||0,t):g,x="trailing"in n?!!n.trailing:x),f.cancel=u,f.flush=c,f}function he(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function ve(){this.__data__=[]}function me(e,t){return e===t||e!==e&&t!==t}function be(e,t){for(var n=e.length;n--;)if(me(e[n][0],t))return n;return-1}function ye(e){var t=this.__data__,n=be(t,e);if(0>n)return!1;var r=t.length-1;return n==r?t.pop():ai.call(t,n,1),!0}function je(e){var t=this.__data__,n=be(t,e);return 0>n?void 0:t[n][1]}function xe(e){return be(this.__data__,e)>-1}function $e(e,t){var n=this.__data__,r=be(n,e);return 0>r?n.push([e,t]):n[r][1]=t,this}function ke(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function we(){this.__data__=new ke}function _e(e){return this.__data__["delete"](e)}function Oe(e){return this.__data__.get(e)}function Ce(e){return this.__data__.has(e)}function Se(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function Ae(e){return e&&e.Object===Object?e:null}function Pe(e){return!!fi&&fi in e}function Ee(e){if(null!=e){try{return di.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Te(e){if(!le(e)||Pe(e))return!1;var t=ce(e)||Se(e)?bi:gi;return t.test(Ee(e))}function Le(e,t){return null==e?void 0:e[t]}function Fe(e,t){var n=Le(e,t);return Te(n)?n:void 0}function De(){this.__data__=yi?yi(null):{}}function qe(e){return this.has(e)&&delete this.__data__[e]}function Me(e){var t=this.__data__;if(yi){var n=t[e];return n===ji?void 0:n}return $i.call(t,e)?t[e]:void 0}function Ie(e){var t=this.__data__;return yi?void 0!==t[e]:wi.call(t,e)}function Re(e,t){var n=this.__data__;return n[e]=yi&&void 0===t?_i:t,this}function Ue(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ne(){this.__data__={hash:new Ue,map:new(Oi||ke),string:new Ue}}function ze(e){var t="undefined"==typeof e?"undefined":ar["typeof"](e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Be(e,t){var n=e.__data__;return ze(t)?n["string"==typeof t?"string":"hash"]:n.map}function Ge(e){return Be(this,e)["delete"](e)}function He(e){return Be(this,e).get(e)}function Ve(e){return Be(this,e).has(e)}function We(e,t){return Be(this,e).set(e,t),this}function Je(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ke(e,t){var n=this.__data__;return n instanceof ke&&n.__data__.length==Ci&&(n=this.__data__=new Je(n.__data__)),n.set(e,t),this}function Ye(e){this.__data__=new ke(e)}function Xe(e){return this.__data__.set(e,Si),this}function Qe(e){return this.__data__.has(e)}function Ze(e){var t=-1,n=e?e.length:0;for(this.__data__=new Je;++t<n;)this.add(e[t])}function et(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function tt(e,t,n,r,i,a){var o=i&Pi,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(e);if(u)return u==t;var c=-1,f=!0,d=i&Ai?new Ze:void 0;for(a.set(e,t);++c<s;){var p=e[c],g=t[c];if(r)var h=o?r(g,p,c,t,e,a):r(p,g,c,e,t,a);if(void 0!==h){if(h)continue;f=!1;break}if(d){if(!et(t,function(e,t){return d.has(t)||p!==e&&!n(p,e,r,i,a)?void 0:d.add(t)})){f=!1;break}}else if(p!==g&&!n(p,g,r,i,a)){f=!1;break}}return a["delete"](e),f}function nt(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function rt(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function it(e,t,n,r,i,a,o){switch(n){case Hi:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Gi:return!(e.byteLength!=t.byteLength||!r(new Ti(e),new Ti(t)));case Di:case qi:return+e==+t;case Mi:return e.name==t.name&&e.message==t.message;case Ri:return e!=+e?t!=+t:e==+t;case Ui:case zi:return e==t+"";case Ii:var s=nt;case Ni:var l=a&Fi;if(s||(s=rt),e.size!=t.size&&!l)return!1;var u=o.get(e);return u?u==t:(a|=Li,o.set(e,t),tt(s(e),s(t),r,i,a,o));case Bi:if(Wi)return Wi.call(e)==Wi.call(t)}return!1}function at(e){return Ji(Object(e))}function ot(e,t){return null!=e&&(Yi.call(e,t)||"object"==("undefined"==typeof e?"undefined":ar["typeof"](e))&&t in e&&null===at(e))}function st(e){return Xi(Object(e))}function lt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function ut(e){return function(t){return null==t?void 0:t[e]}}function ct(e){return"number"==typeof e&&e>-1&&e%1==0&&Zi>=e}function ft(e){return null!=e&&ct(Qi(e))&&!ce(e)}function dt(e){return fe(e)&&ft(e)}function pt(e){return dt(e)&&na.call(e,"callee")&&(!ia.call(e,"callee")||ra.call(e)==ea)}function gt(e){return"string"==typeof e||!aa(e)&&fe(e)&&la.call(e)==oa}function ht(e){var t=e?e.length:void 0;return ct(t)&&(aa(e)||gt(e)||pt(e))?lt(t,String):null}function vt(e,t){return t=null==t?ua:t,!!t&&("number"==typeof e||ca.test(e))&&e>-1&&e%1==0&&t>e}function mt(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||fa;return e===n}function bt(e){var t=mt(e);if(!t&&!ft(e))return st(e);var n=ht(e),r=!!n,i=n||[],a=i.length;for(var o in e)!ot(e,o)||r&&("length"==o||vt(o,a))||t&&"constructor"==o||i.push(o);return i}function yt(e,t,n,r,i,a){var o=i&da,s=bt(e),l=s.length,u=bt(t),c=u.length;if(l!=c&&!o)return!1;
for(var f=l;f--;){var d=s[f];if(!(o?d in t:ot(t,d)))return!1}var p=a.get(e);if(p)return p==t;var g=!0;a.set(e,t);for(var h=o;++f<l;){d=s[f];var v=e[d],m=t[d];if(r)var b=o?r(m,v,d,t,e,a):r(v,m,d,e,t,a);if(!(void 0===b?v===m||n(v,m,r,i,a):b)){g=!1;break}h||(h="constructor"==d)}if(g&&!h){var y=e.constructor,j=t.constructor;y!=j&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof j&&j instanceof j)&&(g=!1)}return a["delete"](e),g}function jt(e){return wa.call(e)}function xt(e){return fe(e)&&ct(e.length)&&!!to[ro.call(e)]}function $t(e,t,n,r,i,a){var o=aa(e),s=aa(t),l=oo,u=oo;o||(l=Pa(e),l=l==ao?so:l),s||(u=Pa(t),u=u==ao?so:u);var c=l==so&&!Se(e),f=u==so&&!Se(t),d=l==u;if(d&&!c)return a||(a=new Ye),o||xt(e)?tt(e,t,n,r,i,a):it(e,t,l,n,r,i,a);if(!(i&io)){var p=c&&uo.call(e,"__wrapped__"),g=f&&uo.call(t,"__wrapped__");if(p||g){var h=p?e.value():e,v=g?t.value():t;return a||(a=new Ye),n(h,v,r,i,a)}}return d?(a||(a=new Ye),yt(e,t,n,r,i,a)):!1}function kt(e,t,n,r,i){return e===t?!0:null==e||null==t||!le(e)&&!fe(t)?e!==e&&t!==t:$t(e,t,kt,n,r,i)}function wt(e,t,n,r){var i=n.length,a=i,o=!r;if(null==e)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){s=n[i];var l=s[0],u=e[l],c=s[1];if(o&&s[2]){if(void 0===u&&!(l in e))return!1}else{var f=new Ye;if(r)var d=r(u,c,l,e,t,f);if(!(void 0===d?kt(c,u,r,co|fo,f):d))return!1}}return!0}function _t(e){return e===e&&!le(e)}function Ot(e){for(var t=bt(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,_t(i)]}return t}function Ct(e,t){return function(n){return null==n?!1:n[e]===t&&(void 0!==t||e in Object(n))}}function St(e){var t=Ot(e);return 1==t.length&&t[0][2]?Ct(t[0][0],t[0][1]):function(n){return n===e||wt(n,e,t)}}function At(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(po);var n=function r(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o),o};return n.cache=new(At.Cache||Je),n}function Pt(e){if("string"==typeof e)return e;if(de(e))return vo?vo.call(e):"";var t=e+"";return"0"==t&&1/e==-go?"-0":t}function Et(e){return null==e?"":Pt(e)}function Tt(e){return aa(e)?e:yo(e)}function Lt(e,t){if(aa(e))return!1;var n="undefined"==typeof e?"undefined":ar["typeof"](e);return"number"==n||"symbol"==n||"boolean"==n||null==e||de(e)?!0:xo.test(e)||!jo.test(e)||null!=t&&e in Object(t)}function Ft(e){if("string"==typeof e||de(e))return e;var t=e+"";return"0"==t&&1/e==-$o?"-0":t}function Dt(e,t){t=Lt(t,e)?[t]:Tt(t);for(var n=0,r=t.length;null!=e&&r>n;)e=e[Ft(t[n++])];return n&&n==r?e:void 0}function qt(e,t,n){var r=null==e?void 0:Dt(e,t);return void 0===r?n:r}function Mt(e,t){return null!=e&&t in Object(e)}function It(e,t,n){t=Lt(t,e)?[t]:Tt(t);for(var r,i=-1,a=t.length;++i<a;){var o=Ft(t[i]);if(!(r=null!=e&&n(e,o)))break;e=e[o]}if(r)return r;var a=e?e.length:0;return!!a&&ct(a)&&vt(o,a)&&(aa(e)||gt(e)||pt(e))}function Rt(e,t){return null!=e&&It(e,t,Mt)}function Ut(e,t){return Lt(e)&&_t(t)?Ct(Ft(e),t):function(n){var r=qt(n,e);return void 0===r&&r===t?Rt(n,e):kt(t,r,void 0,ko|wo)}}function Nt(e){return e}function zt(e){return function(t){return Dt(t,e)}}function Bt(e){return Lt(e)?ut(Ft(e)):zt(e)}function Gt(e){return"function"==typeof e?e:null==e?Nt:"object"==("undefined"==typeof e?"undefined":ar["typeof"](e))?aa(e)?Ut(e[0],e[1]):St(e):Bt(e)}function Ht(e){if(!e)return 0===e?e:0;if(e=pe(e),e===_o||e===-_o){var t=0>e?-1:1;return t*Oo}return e===e?e:0}function Vt(e){var t=Ht(e),n=t%1;return t===t?n?t-n:t:0}function Wt(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=null==n?0:Vt(n);return 0>i&&(i=Co(r+i,0)),he(e,Gt(t,3),i)}function Jt(e,t){for(var n=-1,r=e?e.length:0;++n<r&&t(e[n],n,e)!==!1;);return e}function Kt(e,t,n){(void 0===n||me(e[t],n))&&("number"!=typeof t||void 0!==n||t in e)||(e[t]=n)}function Yt(e,t,n){var r=e[t];Ao.call(e,t)&&me(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function Xt(e,t,n,r){n||(n={});for(var i=-1,a=t.length;++i<a;){var o=t[i],s=r?r(n[o],e[o],o,n,e):e[o];Yt(n,o,s)}return n}function Qt(e,t){return e&&Xt(t,bt(t),e)}function Zt(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function en(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function tn(){return[]}function nn(e){return Po(Object(e))}function rn(e,t){return Xt(e,Eo(e),t)}function an(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function on(e,t,n){var r=t(e);return aa(e)?r:an(r,n(e))}function sn(e){return on(e,bt,Eo)}function ln(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&Lo.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function un(e){var t=new e.constructor(e.byteLength);return new Ti(t).set(new Ti(e)),t}function cn(e,t){var n=t?un(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function fn(e,t){return e.set(t[0],t[1]),e}function dn(e,t,n,r){var i=-1,a=e?e.length:0;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function pn(e,t,n){var r=t?n(nt(e),!0):nt(e);return dn(r,fn,new e.constructor)}function gn(e){var t=new e.constructor(e.source,Fo.exec(e));return t.lastIndex=e.lastIndex,t}function hn(e,t){return e.add(t),e}function vn(e,t,n){var r=t?n(rt(e),!0):rt(e);return dn(r,hn,new e.constructor)}function mn(e){return qo?Object(qo.call(e)):{}}function bn(e,t){var n=t?un(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function yn(e,t,n,r){var i=e.constructor;switch(t){case Ho:return un(e);case Mo:case Io:return new i(+e);case Vo:return cn(e,r);case Wo:case Jo:case Ko:case Yo:case Xo:case Qo:case Zo:case es:case ts:return bn(e,r);case Ro:return pn(e,r,n);case Uo:case Bo:return new i(e);case No:return gn(e);case zo:return vn(e,r,n);case Go:return mn(e)}}function jn(e){return le(e)?ns(e):{}}function xn(e){return"function"!=typeof e.constructor||mt(e)?{}:jn(at(e))}function $n(){return!1}function kn(e,t,n,r,i,a,o){var s;if(r&&(s=a?r(e,i,a,o):r(e)),void 0!==s)return s;if(!le(e))return e;var l=aa(e);if(l){if(s=ln(e),!t)return en(e,s)}else{var u=Pa(e),c=u==ps||u==gs;if(ss(e))return Zt(e,t);if(u==ms||u==ls||c&&!a){if(Se(e))return a?e:{};if(s=xn(c?{}:e),!t)return rn(e,Qt(s,e))}else{if(!Fs[u])return a?e:{};s=yn(e,u,kn,t)}}o||(o=new Ye);var f=o.get(e);if(f)return f;if(o.set(e,s),!l)var d=n?sn(e):bt(e);return Jt(d||e,function(i,a){d&&(a=i,i=e[a]),Yt(s,a,kn(i,t,n,r,a,e,o))}),s}function wn(e){if(!fe(e)||Us.call(e)!=Ds||Se(e))return!1;var t=at(e);if(null===t)return!0;var n=Is.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ms.call(n)==Rs}function _n(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function On(e){e=null==e?e:Object(e);var t=[];for(var n in e)t.push(n);return t}function Cn(e){for(var t=-1,n=mt(e),r=Hs(e),i=r.length,a=ht(e),o=!!a,s=a||[],l=s.length;++t<i;){var u=r[t];o&&("length"==u||vt(u,l))||"constructor"==u&&(n||!Ws.call(e,u))||s.push(u)}return s}function Sn(e){return Xt(e,Cn(e))}function An(e,t,n,r,i,a,o){var s=e[n],l=t[n],u=o.get(l);if(u)return void Kt(e,n,u);var c=a?a(s,l,n+"",e,t,o):void 0,f=void 0===c;f&&(c=l,aa(l)||xt(l)?aa(s)?c=s:dt(s)?c=en(s):(f=!1,c=kn(l,!0)):wn(l)||pt(l)?pt(s)?c=Sn(s):!le(s)||r&&ce(s)?(f=!1,c=kn(l,!0)):c=s:f=!1),o.set(l,c),f&&i(c,l,r,a,o),o["delete"](l),Kt(e,n,c)}function Pn(e,t,n,r,i){if(e!==t){if(!aa(t)&&!xt(t))var a=Cn(t);Jt(a||t,function(o,s){if(a&&(s=o,o=t[s]),le(o))i||(i=new Ye),An(e,t,s,n,Pn,r,i);else{var l=r?r(e[s],o,s+"",e,t,i):void 0;void 0===l&&(l=o),Kt(e,s,l)}})}}function En(e,t,n){if(!le(n))return!1;var r="undefined"==typeof t?"undefined":ar["typeof"](t);return("number"==r?ft(n)&&vt(t,n.length):"string"==r&&t in n)?me(n[t],e):!1}function Tn(e,t,n){var r=n.length;switch(r){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Ln(e,t){if("function"!=typeof e)throw new TypeError(Js);return t=Ks(void 0===t?e.length-1:Vt(t),0),function(){for(var n=arguments,r=-1,i=Ks(n.length-t,0),a=Array(i);++r<i;)a[r]=n[t+r];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,n[0],a);case 2:return e.call(this,n[0],n[1],a)}var o=Array(t+1);for(r=-1;++r<t;)o[r]=n[r];return o[t]=a,Tn(e,this,o)}}function Fn(e){return Ln(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,o&&En(n[0],n[1],o)&&(a=3>i?void 0:a,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,a)}return t})}function Dn(e,t){var n,r,i=t.permissions||{},a=[];return sr.forEach(t.columns,function(o){if(r={field:o.name,displayName:o.displayName||o.name,type:Bn(o.type),name:o.name},o.hidden&&(r.visible=!1),o.sortable||(r.enableSorting=!1),o.filter||(r.enableFiltering=!1),n=e.$provider.columnProcessor(r.type),n&&n(r,e),sr.isString(o.cellFilter)&&(r.cellFilter=o.cellFilter),sr.isString(o.cellTemplateName)&&(r.cellTemplate=e.wrapCell(o.cellTemplateName)),sr.isDefined(r.field)&&r.field===t.repr){if(i.update){var s=e.options.reprPath||e.$window.location,l=t.id;r.cellTemplate=e.wrapCell('<a href="'+s+"/{{ row.entity['"+l+'\'] }}" title="Edit {{ COL_FIELD }}">{{COL_FIELD}}</a>')}a.splice(0,0,r)}else a.push(r)}),a}function qn(e,t){var n=t.result,r=e.options;return sr.isArray(n)?(e.state.total=t.total||n.length,"update"!==t.type&&(r.data=[]),sr.forEach(n,function(t){var n=e.metadata.id,i={};i[n]=t[n];var a=Wt(r.data,i);-1===a?r.data.push(t):(r.data[a]=Ys(r.data[a],t),Jn(e,r.data[a],"statusUpdated"))}),void Gn(e)):e.messages.error("Data grid got bad data from provider")}function Mn(e,t){e.cellTemplate=t.wrapCell("{{COL_FIELD}}")}function In(e,t){e.cellTemplate=t.wrapCell('<a href="{{COL_FIELD.url || COL_FIELD}}">{{COL_FIELD.repr || COL_FIELD}}</a>')}function Rn(e){e.sortingAlgorithm=function(e,t){var n=new Date(e).getTime(),r=new Date(t).getTime();return n===r?0:r>n?-1:1}}function Un(e,t){e.cellTemplate=t.wrapCell("<i ng-class=\"COL_FIELD ? 'fa fa-check-circle text-success' : 'fa fa-check-circle text-danger'\"></i>","text-center"),e.enableFiltering&&(e.filter={type:t.uiGridConstants.filter.SELECT,selectOptions:[{value:"true",label:"True"},{value:"false",label:"False"}]})}function Nn(e,t){e.cellTemplate=t.wrapCell("{{COL_FIELD.repr || COL_FIELD.id || COL_FIELD}}")}function zn(e){var t=e.api,n=e.$scope,r=e.options;e.options.enablePagination&&(t.core.on.sortChanged(n,ge(Hn,r.requestDelay)),t.core.on.filterChanged(n,ge(Vn,r.requestDelay)),t.pagination.on.paginationChanged(n,ge(Wn,r.requestDelay)))}function Bn(e){switch(e){case"integer":return"number";case"datetime":return"date";default:return e||"string"}}function Gn(e){var t=e.state,n=e.options,r=t.inPage*n.rowHeight+n.offsetGridHeight;r<n.minGridHeight&&(r=n.minGridHeight),e.style={height:r+"px"}}function Hn(e,t){if(0===t.length)e.state.sortby(void 0),e.refreshPage();else switch(sr.forEach(t,function(t){e.state.sortby(t.name+":"+t.sort.direction)}),t[0].sort.direction){case e.uiGridConstants.ASC:e.refreshPage();break;case e.uiGridConstants.DESC:e.refreshPage();break;case void 0:e.refreshPage()}}function Vn(){var e,t=this;t.options.gridFilters={},sr.forEach(t.columns,function(n){"select"===n.filter.type&&(t.options.data=[]),n.filters[0].term&&(e="string"===n.colDef.type?"search":"eq",t.options.gridFilters[n.colDef.name+":"+e]=n.filters[0].term)}),t.refreshPage()}function Wn(e,t){var n=this.lux;n.state.page=e,n.state.limit=t,n.refresh()}function Jn(e,t,n){t[n]=!0,e.$lux.$timeout(function(){t[n]=!1},e.options.updateTimeout)}function Kn(e,t){if(e&&e[t]){var n=e[t];return delete e[t],n}}function Yn(e){var t=e.grid,n=t.defaults;n.enableGridMenu=!1,n.gridMenu={create:{title:"Add",icon:"fa fa-plus",permissionType:"create"},"delete":{title:"Delete",icon:"fa fa-trash",permissionType:"delete",template:Xs},columnsVisibility:{title:"Columns visibility",icon:"fa fa-eye"}}}function Xn(e){var t,n=e.$lux,r=e.$injector.get("$uibModal"),i=e.$scope.$new(!0),a=e.getStateName(),o=e.getModelName(),s=e.options.permissions,l={},u=[];l.create=function(){e.$window.location.href+="/add"},l["delete"]=function(){var o=e.api.selection.getSelectedRows();if(!o.length){var s=e.options.columnDefs[0].field;sr.extend(i,{stateName:a,repr_field:e.metaFields.repr||s}),t=r.open({scope:i,template:e.options.deleteTpl}),t.result.then(function(){function t(t){function r(){a.resolve(e.options.modal["delete"].messages.success)}function i(){a.reject(e.options.modal["delete"].messages.error)}var a=n.q.defer(),o=t[e.metaFields.id];return e.dataProvider.deleteItem(o,r,i),a.promise}var r=[];sr.forEach(o,function(e){r.push(t(e))}),n.q.all(r).then(function(t){e.refreshPage(),n.messages.success(t[0]+" "+t.length+" "+a)},function(e){n.messages.error(e+" "+a)})})}},sr.forEach(e.options.gridMenu,function(e,t){var n=e.title;"create"===t&&(n+=" "+o);var r={title:n,icon:e.icon,action:l[t]};e.permissionType?s[e.permissionType]&&u.push(r):u.push(r)}),e.options.gridMenuCustomItems=u}function Qn(e){if(e.$element&&e.$dataProvider){var t=e.options.onRegisterApi;e.options.onRegisterApi=function(n){e.$onRegisterApi(n),t&&t(n)},e.$dataProvider.connect()}}function Zn(e){return"<div class='grid'\nui-grid='grid.options'\nng-style=\"grid.style\"\n"+e.$directives+">\n</div>"}function er(e){function t(e,t){if(2===arguments.length)return a[e]=t,u||(u=e),this;e||(e=u);var n=a[e];if(n)return n;throw Error("No data provider found")}function n(e){return e instanceof Zs?void sr.forEach(o,function(t){t(e)}):(o.push(e),this)}function r(e,t){return 1===arguments.length?s[e]:(s[e]=t,this)}function i(t){var n=this,r=e.grid;t=P(t||{},r.defaults);var i=["ui.grid"],a=[];t.enableSelect&&(a.push("ui-grid-selection"),i.push("ui.grid.selection")),t.enablePagination&&(a.push("ui-grid-pagination"),i.push("ui.grid.pagination")),t.enableAutoResize&&(a.push("ui-grid-auto-resize"),i.push("ui.grid.autoResize")),t.enableResizeColumn&&(i.push("ui.grid.resizeColumns"),a.push("ui-grid-resize-columns"));var o=new Zs(n,r,t);return n.require(["angular-ui-grid","angular-ui-bootstrap"],i,function(){o.$onLoaded(a.join(" "))}),o}var a={},o=[],s={},l={enableAutoResize:!0,enableFiltering:!0,useExternalFiltering:!0,gridFilters:{},useExternalSorting:!0,enableHorizontalScrollbar:0,enableVerticalScrollbar:0,rowHeight:30,minGridHeight:250,offsetGridHeight:102,enablePagination:!0,useExternalPagination:!0,paginationPageSizes:[25,50,100,250],paginationPageSize:25,gridMenuShowHideColumns:!1,enableResizeColumn:!0,enableSelect:!0,multiSelect:!0,requestDelay:100,updateTimeout:2e3},u=void 0;e.grid=sr.extend(i,{defaults:l,dataProvider:t,columnProcessor:r,onInit:n}),e.plugins.grid=e.grid}function tr(){function e(e,t){e.grid=t.grid(e.gridOptions)}function t(e,t){e.grid.$onLink(e,t)}return e.$inject=["$scope","$lux"],{restrict:"AE",scope:{gridOptions:"=?"},controller:e,link:t}}function nr(e){return new tl(e)}function rr(e){var t=e.grid;t.dataProvider("rest",nr).columnProcessor("date",Rn).columnProcessor("datetime",Rn).columnProcessor("boolean",Un).columnProcessor("string",Mn).columnProcessor("url",In).columnProcessor("object",Nn).onInit(zn)}function ir(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}m.$inject=["$controllerProvider","$provide","$compileProvider","$filterProvider","$locationProvider","$injector"],y.$inject=["$rootScope","$log"],k.$inject=["$lux"],_.$inject=["$location"],S.$inject=["$window"],E.$inject=["$lux","$log","luxFormConfig"],T.$inject=["$log","$lux","luxFormConfig"],I.$inject=["$lux"],ee.$inject=["$window","luxFormConfig"],te.$inject=["$location"],ne.$inject=["luxNavBarDefaults"],re.$inject=["luxSidebarDefaults"],ie.$inject=["luxLinkTemplate","luxLink"],ae.$inject=["$window","luxNavbarTemplate","luxNavbar"],oe.$inject=["$window","$compile","$timeout","luxSidebarTemplate","luxSidebar"],Yn.$inject=["$luxProvider"],er.$inject=["$luxProvider"],rr.$inject=["$luxProvider"];var ar={};ar["typeof"]="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},ar.classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ar.createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ar.get=function il(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:il(i,t,n)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(n)},ar.inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},ar.possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t};var or=require("angular");or.version||(or=window.angular);var sr=or,lr="$";t.prototype=n.prototype={constructor:t,has:function(e){return lr+e in this},get:function(e){return this[lr+e]},set:function(e,t){return this[lr+e]=t,this},remove:function(e){var t=lr+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===lr&&delete this[e]},keys:function al(){var al=[];for(var e in this)e[0]===lr&&al.push(e.slice(1));return al},values:function ol(){var ol=[];for(var e in this)e[0]===lr&&ol.push(this[e]);return ol},entries:function sl(){var sl=[];for(var e in this)e[0]===lr&&sl.push({key:e.slice(1),value:this[e]});return sl},size:function ll(){var ll=0;for(var e in this)e[0]===lr&&++ll;return ll},empty:function(){for(var e in this)if(e[0]===lr)return!1;return!0},each:function(e){for(var t in this)t[0]===lr&&e(this[t],t.slice(1),this)}};var ur=(n.prototype,{}),cr=new RegExp("^([a-z]+://|//)"),fr={80:"http",443:"https",21:"ftp"},dr=void 0,pr=void 0,gr=function(){function e(t){ar.classCallCheck(this,e),this.api=t}return ar.createClass(e,[{key:"getData",value:function(e,t){1===arguments.length&&sr.isFunction(e)&&(t=e,e=null),this.api.get(e).then(function(e){var n=e.data;t&&t(n.result)})}}]),e}();h.prototype=gr.prototype;var hr=["delete","get","head","options"],vr=["get","head","options"],mr=0,br=function(){function e(t,r){ar.classCallCheck(this,e),sr.extend(this,t,r),this.$apis=n()}return ar.createClass(e,[{key:"api",value:function(e,t){if(2===arguments.length){if(!sr.isString(e))throw new c(e,"action must be a string");return this.$apis.set(e,t),t}if(e=sr.isString(e)?{url:e}:sr.extend({},e),!sr.isString(e.url))throw new c(e,"action must be an object with url property");var n=e.url,r=n,i=!0;return p(n)&&(n=f(n),i=d(n),r=n.pathname),i?(e.baseUrl="",t=this.$apis.get(e.baseUrl),t||(t=this.api("",jr))):(e.baseUrl=n.$base(),t=this.$apis.get(e.baseUrl),t||(t=this.api(e.baseUrl,xr))),e.path=g(r,e.path),new t(this,e)}},{key:"id",value:function(e){return(e||"l")+ ++mr}},{key:"logout",value:function(e,t){e.preventDefault();var n=this.api(t),r=this;n.post().then(function(){r.context.POST_LOGOUT_URL?r.$window.location.href=r.context.POST_LOGOUT_URL:r.$window.location.reload()},function(){r.messages.error("Error while logging out")})}},{key:"csrf",get:function(){return this.context.csrf}},{key:"user",get:function(){return this.context.user}},{key:"userToken",get:function(){return this.context.userToken}}]),e}(),yr=function(){function e(t,n){ar.classCallCheck(this,e),this.$lux=t,this.$defaults=n}return ar.createClass(e,[{key:"get",value:function(e){return this.request("get",e)}},{key:"post",value:function(e){return this.request("post",e)}},{key:"put",value:function(e){return this.request("put",e)}},{key:"head",value:function(e){return this.request("head",e)}},{key:"delete",value:function(e){return this.request("delete",e)}},{key:"paginator",value:function(){return new h(this)}},{key:"httpOptions",value:function(){}},{key:"request",value:function(e,t){t||(t={});var n=this.$lux,r={method:e.toLowerCase(),params:sr.extend({},this.params,t.params),headers:t.headers||{},url:g(this.url,t.path)};return-1===hr.indexOf(r.method)&&(r.data=t.data),r.headers.hasOwnProperty("Content-Type")||(r.headers["Content-Type"]="application/json"),this.httpOptions(r),n.$http(r)}},{key:"baseUrl",get:function(){return this.$defaults.baseUrl}},{key:"url",get:function(){return g(this.$defaults.baseUrl,this.$defaults.path)}},{key:"params",get:function(){return this.$defaults.params||{}}},{key:"path",get:function(){return this.$defaults.path}}]),e}(),jr=function(e){function t(){return ar.classCallCheck(this,t),ar.possibleConstructorReturn(this,Object.getPrototypeOf(t).apply(this,arguments))}return ar.inherits(t,e),ar.createClass(t,[{key:"httpOptions",value:function(e){var t=this.$lux;t.csrf&&vr.indexOf(-1===e.method)&&(e.data=sr.extend(e.data||{},t.csrf))}}]),t}(yr),xr=function(e){function t(){return ar.classCallCheck(this,t),ar.possibleConstructorReturn(this,Object.getPrototypeOf(t).apply(this,arguments))}return ar.inherits(t,e),ar.createClass(t,[{key:"httpOptions",value:function(e){var t=this.$lux,n=t.userToken;n&&(e.headers.Authorization="Bearer "+n)}}]),t}(yr),$r=function(){function e(t,n){ar.classCallCheck(this,e),this.$scope=t,this.$log=n}return ar.createClass(e,[{key:"log",value:function(e,t,n){var r=this.$log;r[e]||(e="info"),r[e](t),n&&n.broadcast===!1||(n||(n={}),n.text=t,n.level=e,this.$scope.$broadcast("messageAdded",n))}},{key:"debug",value:function(e,t){1===arguments.length&&(t={broadcast:!1}),this.log("debug",e,t)}},{key:"info",value:function(e,t){this.log("info",e,t)}},{key:"success",value:function(e,t){this.log("success",e,t)}},{key:"warn",value:function(e,t){this.log("warn",e,t)}},{key:"error",value:function(e,t){this.log("error",e,t)}},{key:"clear",value:function(e){this.$scope.$broadcast("messageRemove",e)}}]),e}(),kr=sr.module("lux",[]);kr.provider("$lux",m),kr.factory("luxMessage",y),kr.directive("luxPage",j);var wr='<div>\n    <div class="alert alert-{{ message.type }}" role="alert" ng-repeat="message in messages">\n        <a href="#" class="close" ng-click="removeMessage($event, message)">&times;</a>\n        <i ng-if="message.icon" ng-class="message.icon"></i>\n        <span ng-bind-html="message.text"></span>\n    </div>\n</div>',_r='<div class="ace-lux">\n<div ng-if="aceHeader" class="ace-lux-header" lux-navbar="aceHeader"></div>\n<div class="ace-lux-editor"></div>\n</div>',Or='<ol class="breadcrumb">\n    <li ng-repeat="step in steps" ng-class="{active: step.last}">\n        <a ng-if="!step.last" href="{{step.href}}">{{step.label}}</a>\n        <span ng-if="step.last">{{step.label}}</span>\n    </li>\n</ol>',Cr=sr.module("lux.cms",["lux"]);Cr.directive("luxMessages",x),Cr.directive("luxAce",k),Cr.directive("luxCrumbs",_),Cr.directive("luxYear",C),Cr.directive("luxFullpage",S);var Sr=function(){function e(t){ar.classCallCheck(this,e),this.$lux=t,this.$id=t.id()}return ar.createClass(e,[{key:"addMessages",value:function(e,t){t||(t="info");var n=this.$lux,r={rel:this.$id};sr.isArray(e)||(e=[e]),sr.forEach(e,function(e){n.messages.log(t,e,r)})}},{key:"$compile",get:function(){return this.$lux.$compile}},{key:"$injector",get:function(){return this.$lux.$injector}}]),e}(),Ar=function(e){function t(e,n,r,i,a){ar.classCallCheck(this,t);var o=ar.possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,n));o.$scope=e,o.$lux=n,o.$cfg=i,o.$log=r;var s=[];return sr.forEach(a,function(e,t){F(t)?s.push(t+"='"+e+"'"):o[t]=e}),o.directives=s.join(" "),o}return ar.inherits(t,e),ar.createClass(t,[{key:"$form",get:function(){return this.$scope.form}},{key:"model",get:function(){return this.$scope.model}}]),t}(Sr),Pr=function(e){function t(){return ar.classCallCheck(this,t),ar.possibleConstructorReturn(this,Object.getPrototypeOf(t).apply(this,arguments))}return ar.inherits(t,e),ar.createClass(t,[{key:"setSubmited",value:function(){this.$form.$setSubmitted(),this.$form.$pending=!0,this.$lux.messages.clear(this.id),sr.forEach(this.fields,function(e){delete e.server_message,delete e.server_error})}},{key:"addMessages",value:function(e,n){var r=this.fields,i=[];sr.isArray(e)||(e=[e]),sr.forEach(e,function(e){e.field&&r[e.field]?"error"===n?(r[e.field].server_error=e.message,r[e.field].ngField.$invalid=!0):r[e.field].server_message=e.message:i.push(e)}),ar.get(Object.getPrototypeOf(t.prototype),"addMessages",this).call(this,i,n)}},{key:"fields",get:function(){return this.$scope.fields}}]),t}(Ar),Er=function(e){function t(){return ar.classCallCheck(this,t),ar.possibleConstructorReturn(this,Object.getPrototypeOf(t).apply(this,arguments))}return ar.inherits(t,e),ar.createClass(t,[{key:"$click",value:function(e){var t=this.$cfg.getAction(this.type);t&&t.call(this,e)}},{key:"error",get:function(){var e=this.ngField;if(e&&this.displayStatus&&e.$invalid){var t=this.$cfg.error(e);return this.server_error||t||"Not a valid value"}}},{key:"success",get:function(){return this.displayStatus&&!this.error?!0:void 0}},{key:"displayStatus",get:function(){if(this.disabled||this.readonly)return!1;var e=this.ngField;return e&&(this.$form.$submitted||e.$dirty)}},{key:"ngField",get:function(){return this.$scope.form[this.name]}},{key:"info",get:function(){return this.$scope.info}}]),t}(Ar),Tr='\n<div class="radio-group">\n  <div ng-repeat="(key, option) in to.options" ng-class="{ \'radio\': !to.inline, \'radio-inline\': to.inline }">\n    <label>\n      <input type="radio"\n             id="{{id + \'_\'+ $index}}"\n             tabindex="0"\n             ng-value="option[to.valueProp || \'value\']"\n             ng-model="model[field.name]">\n      {{option[to.labelProp || \'name\']}}\n    </label>\n  </div>\n</div>\n',Lr=function(e){return"<label for=\"{{field.id}}\" class=\"control-label {{field.labelSrOnly ? 'sr-only' : ''}}\" ng-if=\"field.label\">\n    {{field.label}}\n    {{field.required ? '*' : ''}}\n  </label>\n  "+e},Fr=function(e){return"<div class=\"form-group\" ng-class=\"{'has-error': field.error, 'has-success': field.success}\">\n"+e+'\n<p ng-if="field.error" class="text-danger error-block">{{ field.error }}</p>\n</div>'},Dr=sr.module("lux.form",["lux"]);Dr.provider("luxFormConfig",A),Dr.directive("luxForm",E),Dr.directive("luxField",T),Dr.directive("luxRemote",I),N(Dr),K(Dr),Y(Dr),Z(Dr),Dr.run(ee);var qr='<a ng-href="{{link.href}}" title="{{link.title}}" ng-click="links.click($event, link)"\nng-attr-target="{{link.target}}" ng-class="link.klass" bs-tooltip="tooltip">\n<span ng-if="link.left" class="left-divider"></span>\n<i ng-if="link.icon" class="{{link.icon}}"></i>\n<span>{{link.label || link.name}}</span>\n<span ng-if="link.right" class="right-divider"></span></a>',Mr='<nav ng-attr-id="{{navbar.id}}" class="navbar navbar-{{navbar.theme}}"\nng-class="{\'navbar-fixed-top\':navbar.fixed, \'navbar-static-top\':navbar.top}"\nng-style="navbar.style" role="navigation">\n    <div ng-class="navbar.container">\n        <div class="navbar-header">\n            <button ng-if="navbar.toggle" type="button" class="navbar-toggle" ng-click="navbar.isCollapsed = !navbar.isCollapsed">\n                <span class="sr-only">Toggle navigation</span>\n                <span class="icon-bar"></span>\n                <span class="icon-bar"></span>\n                <span class="icon-bar"></span>\n            </button>\n            <ul ng-if="navbar.itemsLeft" class="nav navbar-nav navbar-left">\n                <li ng-repeat="link in navbar.itemsLeft" ng-class="{active:links.activeLink(link)}" lux-link></li>\n            </ul>\n            <a ng-if="navbar.brandImage" href="{{navbar.url}}" class="navbar-brand" target="{{navbar.target}}">\n                <img ng-src="{{navbar.brandImage}}" alt="{{navbar.brand || \'brand\'}}">\n            </a>\n            <a ng-if="!navbar.brandImage && navbar.brand" href="{{navbar.url}}" class="navbar-brand" target="{{navbar.target}}">\n                {{navbar.brand}}\n            </a>\n        </div>\n        <nav class="navbar-collapse"\n             uib-collapse="navbar.isCollapsed"\n             expanding="navbar.expanding()"\n             expanded="navbar.expanded()"\n             collapsing="navbar.collapsing()"\n             collapsed="navbar.collapsed()">\n            <ul ng-if="navbar.items" class="nav navbar-nav navbar-left">\n                <li ng-repeat="link in navbar.items" ng-class="{active:links.activeLink(link)}" lux-link></li>\n            </ul>\n            <ul ng-if="navbar.itemsRight" class="nav navbar-nav navbar-right">\n                <li ng-repeat="link in navbar.itemsRight" ng-class="{active:links.activeLink(link)}" lux-link></li>\n            </ul>\n        </nav>\n    </div>\n</nav>',Ir='<lux-navbar class="sidebar-navbar" ng-class="{\'sidebar-open-left\': navbar.left, \'sidebar-open-right\': navbar.right}"></lux-navbar>\n<aside ng-repeat="sidebar in sidebars"\n       class="sidebar sidebar-{{ sidebar.position }}"\n       ng-attr-id="{{ sidebar.id }}"\n       ng-class="{\'sidebar-fixed\': sidebar.fixed, \'sidebar-open\': sidebar.open, \'sidebar-close\': sidebar.closed}" bs-collapse>\n    <div class="nav-panel">\n        <div ng-if="sidebar.user">\n            <div ng-if="sidebar.user.avatar_url" class="pull-{{ sidebar.position }} image">\n                <img ng-src="{{sidebar.user.avatar_url}}" alt="User Image" />\n            </div>\n            <div class="pull-left info">\n                <p>{{ sidebar.infoText }}</p>\n                <a ng-attr-href="{{sidebar.user.username ? \'/\' + sidebar.user.username : \'#\'}}">{{sidebar.user.name}}</a>\n            </div>\n        </div>\n    </div>\n    <ul class="sidebar-menu">\n        <li ng-if="section.name" ng-repeat-start="section in sidebar.sections" class="header">\n            {{section.name}}\n        </li>\n        <li ng-repeat-end ng-repeat="link in section.items" class="treeview"\n        ng-class="{active:links.activeLink(link)}" ng-include="\'subnav\'"></li>\n    </ul>\n</aside>\n<div class="sidebar-page" ng-class="{\'sidebar-open-left\': navbar.left, \'sidebar-open-right\': navbar.right}" ng-click="closeSidebars()">\n    <div class="overlay"></div>\n</div>\n\n<script type="text/ng-template" id="subnav">\n    <a ng-href="{{link.href}}" ng-attr-title="{{link.title}}" ng-click="sidebar.menuCollapse($event)">\n        <i ng-if="link.icon" class="{{link.icon}}"></i>\n        <span>{{link.name}}</span>\n        <i ng-if="link.subitems" class="fa fa-angle-left pull-right"></i>\n    </a>\n    <ul class="treeview-menu" ng-class="{active:links.activeSubmenu(link)}" ng-if="link.subitems">\n        <li ng-repeat="link in link.subitems" ng-class="{active:links.activeLink(link)}" ng-include="\'subnav\'">\n        </li>\n    </ul>\n</script>',Rr={theme:"default",search_text:"",top:!1,fixed:!1,search:!1,url:"/",target:"_self",toggle:!0,fluid:!0,expanding:r,expanded:r,collapsing:r,collapsed:r,isCollapsed:!0},Ur={open:!1,toggleName:"Menu",infoText:"Signed in as"},Nr=sr.module("lux.nav",["lux"]);Nr.constant("luxLinkTemplate",qr),Nr.constant("luxNavbarTemplate",Mr),Nr.constant("luxSidebarTemplate",Ir),Nr.constant("luxNavBarDefaults",Rr),Nr.constant("luxSidebarDefaults",Ur),Nr.factory("luxLink",te),Nr.factory("luxNavbar",ne),Nr.factory("luxSidebar",re),Nr.directive("luxLink",ie),Nr.directive("luxNavbar",ae),Nr.directive("luxSidebar",oe);var zr="[object Function]",Br="[object GeneratorFunction]",Gr=Object.prototype,Hr=Gr.toString,Vr="[object Symbol]",Wr=Object.prototype,Jr=Wr.toString,Kr=NaN,Yr=/^\s+|\s+$/g,Xr=/^[-+]0x[0-9a-f]+$/i,Qr=/^0b[01]+$/i,Zr=/^0o[0-7]+$/i,ei=parseInt,ti="Expected a function",ni=Math.max,ri=Math.min,ii=Array.prototype,ai=ii.splice;ke.prototype.clear=ve,ke.prototype["delete"]=ye,ke.prototype.get=je,ke.prototype.has=xe,ke.prototype.set=$e;
var oi=Ae("object"==("undefined"==typeof global?"undefined":ar["typeof"](global))&&global),si=Ae("object"==("undefined"==typeof self?"undefined":ar["typeof"](self))&&self),li=Ae("object"==ar["typeof"](this)&&this),ui=oi||si||li||Function("return this")(),ci=ui["__core-js_shared__"],fi=function(){var e=/[^.]+$/.exec(ci&&ci.keys&&ci.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),di=Function.prototype.toString,pi=/[\\^$.*+?()[\]{}|]/g,gi=/^\[object .+?Constructor\]$/,hi=Object.prototype,vi=Function.prototype.toString,mi=hi.hasOwnProperty,bi=RegExp("^"+vi.call(mi).replace(pi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yi=Fe(Object,"create"),ji="__lodash_hash_undefined__",xi=Object.prototype,$i=xi.hasOwnProperty,ki=Object.prototype,wi=ki.hasOwnProperty,_i="__lodash_hash_undefined__";Ue.prototype.clear=De,Ue.prototype["delete"]=qe,Ue.prototype.get=Me,Ue.prototype.has=Ie,Ue.prototype.set=Re;var Oi=Fe(ui,"Map");Je.prototype.clear=Ne,Je.prototype["delete"]=Ge,Je.prototype.get=He,Je.prototype.has=Ve,Je.prototype.set=We;var Ci=200;Ye.prototype.clear=we,Ye.prototype["delete"]=_e,Ye.prototype.get=Oe,Ye.prototype.has=Ce,Ye.prototype.set=Ke;var Si="__lodash_hash_undefined__";Ze.prototype.add=Ze.prototype.push=Xe,Ze.prototype.has=Qe;var Ai=1,Pi=2,Ei=ui.Symbol,Ti=ui.Uint8Array,Li=1,Fi=2,Di="[object Boolean]",qi="[object Date]",Mi="[object Error]",Ii="[object Map]",Ri="[object Number]",Ui="[object RegExp]",Ni="[object Set]",zi="[object String]",Bi="[object Symbol]",Gi="[object ArrayBuffer]",Hi="[object DataView]",Vi=Ei?Ei.prototype:void 0,Wi=Vi?Vi.valueOf:void 0,Ji=Object.getPrototypeOf,Ki=Object.prototype,Yi=Ki.hasOwnProperty,Xi=Object.keys,Qi=ut("length"),Zi=9007199254740991,ea="[object Arguments]",ta=Object.prototype,na=ta.hasOwnProperty,ra=ta.toString,ia=ta.propertyIsEnumerable,aa=Array.isArray,oa="[object String]",sa=Object.prototype,la=sa.toString,ua=9007199254740991,ca=/^(?:0|[1-9]\d*)$/,fa=Object.prototype,da=2,pa=Fe(ui,"DataView"),ga=Fe(ui,"Promise"),ha=Fe(ui,"Set"),va=Fe(ui,"WeakMap"),ma="[object Map]",ba="[object Object]",ya="[object Promise]",ja="[object Set]",xa="[object WeakMap]",$a="[object DataView]",ka=Object.prototype,wa=ka.toString,_a=Ee(pa),Oa=Ee(Oi),Ca=Ee(ga),Sa=Ee(ha),Aa=Ee(va);(pa&&jt(new pa(new ArrayBuffer(1)))!=$a||Oi&&jt(new Oi)!=ma||ga&&jt(ga.resolve())!=ya||ha&&jt(new ha)!=ja||va&&jt(new va)!=xa)&&(jt=function(e){var t=wa.call(e),n=t==ba?e.constructor:void 0,r=n?Ee(n):void 0;if(r)switch(r){case _a:return $a;case Oa:return ma;case Ca:return ya;case Sa:return ja;case Aa:return xa}return t});var Pa=jt,Ea="[object Arguments]",Ta="[object Array]",La="[object Boolean]",Fa="[object Date]",Da="[object Error]",qa="[object Function]",Ma="[object Map]",Ia="[object Number]",Ra="[object Object]",Ua="[object RegExp]",Na="[object Set]",za="[object String]",Ba="[object WeakMap]",Ga="[object ArrayBuffer]",Ha="[object DataView]",Va="[object Float32Array]",Wa="[object Float64Array]",Ja="[object Int8Array]",Ka="[object Int16Array]",Ya="[object Int32Array]",Xa="[object Uint8Array]",Qa="[object Uint8ClampedArray]",Za="[object Uint16Array]",eo="[object Uint32Array]",to={};to[Va]=to[Wa]=to[Ja]=to[Ka]=to[Ya]=to[Xa]=to[Qa]=to[Za]=to[eo]=!0,to[Ea]=to[Ta]=to[Ga]=to[La]=to[Ha]=to[Fa]=to[Da]=to[qa]=to[Ma]=to[Ia]=to[Ra]=to[Ua]=to[Na]=to[za]=to[Ba]=!1;var no=Object.prototype,ro=no.toString,io=2,ao="[object Arguments]",oo="[object Array]",so="[object Object]",lo=Object.prototype,uo=lo.hasOwnProperty,co=1,fo=2,po="Expected a function";At.Cache=Je;var go=1/0,ho=Ei?Ei.prototype:void 0,vo=ho?ho.toString:void 0,mo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(\.|\[\])(?:\4|$))/g,bo=/\\(\\)?/g,yo=At(function(e){var t=[];return Et(e).replace(mo,function(e,n,r,i){t.push(r?i.replace(bo,"$1"):n||e)}),t}),jo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xo=/^\w*$/,$o=1/0,ko=1,wo=2,_o=1/0,Oo=1.7976931348623157e308,Co=Math.max,So=Object.prototype,Ao=So.hasOwnProperty,Po=Object.getOwnPropertySymbols;Po||(nn=tn);var Eo=nn,To=Object.prototype,Lo=To.hasOwnProperty,Fo=/\w*$/,Do=Ei?Ei.prototype:void 0,qo=Do?Do.valueOf:void 0,Mo="[object Boolean]",Io="[object Date]",Ro="[object Map]",Uo="[object Number]",No="[object RegExp]",zo="[object Set]",Bo="[object String]",Go="[object Symbol]",Ho="[object ArrayBuffer]",Vo="[object DataView]",Wo="[object Float32Array]",Jo="[object Float64Array]",Ko="[object Int8Array]",Yo="[object Int16Array]",Xo="[object Int32Array]",Qo="[object Uint8Array]",Zo="[object Uint8ClampedArray]",es="[object Uint16Array]",ts="[object Uint32Array]",ns=Object.create,rs="object"==("undefined"==typeof e?"undefined":ar["typeof"](e))&&e,is=rs&&"object"==("undefined"==typeof module?"undefined":ar["typeof"](module))&&module,as=is&&is.exports===rs,os=as?ui.Buffer:void 0,ss=os?function(e){return e instanceof os}:$n,ls="[object Arguments]",us="[object Array]",cs="[object Boolean]",fs="[object Date]",ds="[object Error]",ps="[object Function]",gs="[object GeneratorFunction]",hs="[object Map]",vs="[object Number]",ms="[object Object]",bs="[object RegExp]",ys="[object Set]",js="[object String]",xs="[object Symbol]",$s="[object WeakMap]",ks="[object ArrayBuffer]",ws="[object DataView]",_s="[object Float32Array]",Os="[object Float64Array]",Cs="[object Int8Array]",Ss="[object Int16Array]",As="[object Int32Array]",Ps="[object Uint8Array]",Es="[object Uint8ClampedArray]",Ts="[object Uint16Array]",Ls="[object Uint32Array]",Fs={};Fs[ls]=Fs[us]=Fs[ks]=Fs[ws]=Fs[cs]=Fs[fs]=Fs[_s]=Fs[Os]=Fs[Cs]=Fs[Ss]=Fs[As]=Fs[hs]=Fs[vs]=Fs[ms]=Fs[bs]=Fs[ys]=Fs[js]=Fs[xs]=Fs[Ps]=Fs[Es]=Fs[Ts]=Fs[Ls]=!0,Fs[ds]=Fs[ps]=Fs[$s]=!1;var Ds="[object Object]",qs=Object.prototype,Ms=Function.prototype.toString,Is=qs.hasOwnProperty,Rs=Ms.call(Object),Us=qs.toString,Ns=ui.Reflect,zs=Object.prototype,Bs=Ns?Ns.enumerate:void 0,Gs=zs.propertyIsEnumerable;Bs&&!Gs.call({valueOf:1},"valueOf")&&(On=function(e){return _n(Bs(e))});var Hs=On,Vs=Object.prototype,Ws=Vs.hasOwnProperty,Js="Expected a function",Ks=Math.max,Ys=Fn(function(e,t,n){Pn(e,t,n)}),Xs='<div class="modal-header">\n    <button type="button" class="close" aria-label="Close" ng-click="$dismiss()"><span aria-hidden="true">&times;</span></button>\n    <h4 class="modal-title"><i class="fa fa-trash"></i> Delete {{stateName}}</h4>\n</div>\n<div class="modal-body">\n    <p class="modal-info">{{infoMessage}}</p>\n    <ul class="modal-items">\n        <li ng-repeat="item in selected">{{item[repr_field]}}</li>\n    </ul>\n    <p class="text-danger cannot-undo">{{dangerMessage}}</p>\n</div>\n<div class="modal-footer">\n    <button type="button" class="btn btn-primary" ng-click="$close()">Yes</button>\n    <button type="button" class="btn btn-default" ng-click="$dismiss()">No</button>\n</div>',Qs="ui-grid-cell-contents",Zs=function(e){function t(e,n,r){ar.classCallCheck(this,t);var i=ar.possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,e));return i.$provider=n,i.options=r,i.state=new el(i),i}return ar.inherits(t,e),ar.createClass(t,[{key:"refresh",value:function(){this.$dataProvider.getPage()}},{key:"wrapCell",value:function(e,t){var n=Qs;return t&&(n=n+" "+t),'<div class="'+n+'">'+e+"</div>"}},{key:"$onLoaded",value:function(e){this.$directives=e,this.$dataProvider=this.$provider.dataProvider(this.options.dataProvider)(this),Qn(this)}},{key:"$onLink",value:function(e,t){this.$scope=e,this.$element=t,Qn(this)}},{key:"$onMetadata",value:function(e){var t=this.options;e&&(e["default-limit"]&&(t.paginationPageSize=Kn(e,"default-limit")),this.metadata=e,t.columnDefs=Dn(this,e)),t.enableGridMenu&&Xn(this),this.$element.replaceWith(this.$compile(Zn(this))(this.$scope))}},{key:"$onRegisterApi",value:function(e){this.options=e.grid.options,this.api=e,e.lux=this,this.$provider.onInit(this),this.$dataProvider.getPage()}},{key:"$onData",value:function(e){qn(this,e)}},{key:"uiGridConstants",get:function(){return this.$injector.get("uiGridConstants")}}]),t}(Sr),el=function(){function e(t){ar.classCallCheck(this,e),this.$grid=t}return ar.createClass(e,[{key:"options",get:function(){return this.$grid.options}},{key:"page",get:function(){return this.$grid.options.paginationCurrentPage},set:function(e){this.$grid.options.paginationCurrentPage=e}},{key:"limit",get:function(){return this.$grid.options.paginationPageSize},set:function(e){this.$grid.options.paginationPageSize=e}},{key:"total",get:function(){return this.$grid.options.totalItems},set:function(e){this.$grid.options.totalItems=e}},{key:"totalPages",get:function(){return this.$grid.api.pagination.getTotalPages()}},{key:"offset",get:function(){return this.limit*(this.page-1)}},{key:"inPage",get:function(){return Math.min(this.total-this.offset,this.limit)}},{key:"query",get:function(){var e={page:this.page,limit:this.limit,offset:this.offset,sortby:this.sortby};return this.options.gridFilters&&sr.extend(e,this.options.gridFilters),e}}]),e}(),tl=function(){function e(t){ar.classCallCheck(this,e),this.grid=t,this.api=t.$lux.api(t.options.target)}return ar.createClass(e,[{key:"connect",value:function(){return this.getMetadata()}},{key:"getMetadata",value:function(){var e=this.grid;this.api.get({path:"metadata"}).success(function(t){e.$onMetadata(t)})}},{key:"getData",value:function(e){var t=this.grid,n=t.state.query;return sr.extend(n,e),this.api.get({params:n}).success(function(e){t.$onData(e)})}},{key:"getPage",value:function(e){return this.getData(e)}},{key:"deleteItem",value:function(e){return this.api["delete"]({path:this._subPath+"/"+e})}}]),e}();nr.prototype=tl.prototype;var nl=sr.module("lux.grid",["lux"]);nl.config(er),nl.directive("luxGrid",tr),nl.config(rr),nl.config(Yn);var rl="0.7.0";e.version=rl,e.querySelector=$,e.s4=ir,e.noop=r,e.urlBase64Decode=o,e.getOptions=i,e.jsLib=u,e.urlResolve=f,e.urlIsSameOrigin=d,e.urlIsAbsolute=p,e.urlJoin=g}(this.lux=this.lux||{}),define("../../build/lux",function(){}),require(["require.config","angular","../../build/lux"],function(e,t){"use strict";t.bootstrap("website",["lux.form","lux.cms","lux.nav"])}),define("app",function(){});